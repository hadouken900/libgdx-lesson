# libgdx-lesson

![a](https://i.ytimg.com/vi/Aqe9JijY74g/maxresdefault.jpg)

LibGDX – кроссплатформенный фреймворк для разработки игр и визуализации,
основанный на языке программирования Java с некоторыми компонентами, написанными на C и C++ для повышения производительности определенного кода.
В настоящее время поддерживает Windows, Linux, Mac OS X, Android, iOS и HTML5 как целевые платформы.


## Подготовка
Для начала нужно [cкачать] libgdx. После запуска откроется вот такое окно:

[cкачать]: <https://libgdx.badlogicgames.com/download.html>

![b](https://sun9-34.userapi.com/impf/i73wojGxd0FenMiWZ4ffEHx8cK3h6sctnPxoqg/nIh2XSJFGuU.jpg?size=601x678&quality=96&proxy=1&sign=d24ac3d2b37dd4f1cd9032fa894ea37e&type=album)

Destination - путь, по которому сохранится проект

Где найти Android SDK: запускаете android studio -> configure -> SDK Manager -> Android SDK Location

Далее нажимаем Generate. Как только файлы сгенерируются, в Android Studio открываем эту папку (open existing project)

В папку android/assets поместить картинки

Весь код будем писать в core/java/com.mygdx.game/MyGdxGame

## Теория

Жизненный цикл игры:

![c](https://sun9-34.userapi.com/impf/oFzwP04TvyeZnjylpTkINr0hg8cMfWPQPkhu-g/H1ikIGUWC-M.jpg?size=1155x276&quality=96&proxy=1&sign=e1c21a821acd4bdea2180f097fe74247&type=album)


* Запуск: происходит подгрузка файлов если надо (таких как изображения и звуки), создаются игорвые объекты, переменные инициализируются
* Цикл игры: пока приложение запущено непрерывно повторяется. Состоит из трех этапов
  * Обработка входных данных: программа проверяет, нажимал ли пользователь на экран
  * Обновление: Обновляет игровой мир и объекты. Производит необходимые действия если пользователь что-то нажал, два объекта столкнулись, какое действие выполнить и т.д.
  * Рендер: Отрисовка всей графики на экране - фон, объекты, пользовательский интерфейс
* Закрытие: очищает память от данных, сохраняет данные пользователя или игровой сцены, сигнализирует устройству, что больше не надо мониторить нажатие на экран и закрывает приложение. 


Теперь основные понятия:

Texture - текстура, в неё можно положить картинку

SpriteBatch - класс, который умеет рисовать на экране текстуры

```java

  // в этом методе создаются объекты
  @Override
  public void create () {}
  
  // здесь они отрисовываются 
  @Override
	public void render () {
  
  //отрисовка фона в RGB
  Gdx.gl.glClearColor(1, 0, 0, 1);
	Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);
  
  //начинаем отрисовку
  batch.begin();
  
  //рисуем текстуру в координатах 0 0 
  batch.draw(img, 0,0);
  
  //если написать так, то у текстуры будет ширина 100px и высота 100px
  //batch.draw(img,0,0,100,100)
  
  //заканчиваем отрисовку
  batch.end;
  
  }
  
  // здесь уничтожаются объекты при закрытии приложения
  @Override
	public void dispose () {}
  
```

```java
//нажимают ли сейчас на экран
Gdx.input.isTouched()

//просходило ли одно нажатие
Gdx.input.justTouched() 

//координата нажатия по оси X
Gdx.input.getX()

//координата нажатия по оси Y (инвертирована)
Gdx.input.getY()

//высота экрана
Gdx.graphics.getHeight()

// - ширина экрана
Gdx.graphics.getWidth()

```

Sprite - улучшенный класс текстуры, который умеет просчитывать пересечения с другими спрайтами. Чтобы его создать при вызове конструктора нужно указать текстуру.
```java
Sprite sprite;

@Override
public void create() {
  sprite = new Sprite(new Texture(...));
}
```

```java
//получение прямоугольной области из спрайта
Rectangle r = sprite.getBoundingRectangle();


//имея две прямоугольный области можно узнать пересекаются они или нет
//r2 - какой-то другой прямоугольник

//r2 находится полностью в r1
r.contains(r2);

//r частично находится в r2
r.overlaps(r2);

```



## Задания:
* Реализовать перемещение динозаврика к месту нажатия (к центру текстуры)
* Убрать возможность выйти за видимость экрана
* Сделать так, чтобы пирог исчезал когда динозаврик на него наступает и рандомно появлялся в пределах экрана
* Увеличивать скорость динозаврика после того как он съедает пирог








